(this["webpackJsonpclass-32-todos"]=this["webpackJsonpclass-32-todos"]||[]).push([[0],{162:function(e,t){},165:function(e,t){},176:function(e,t){},178:function(e,t){},193:function(e,t){},195:function(e,t){},223:function(e,t){},225:function(e,t){},226:function(e,t){},231:function(e,t){},233:function(e,t){},239:function(e,t){},241:function(e,t){},260:function(e,t){},272:function(e,t){},275:function(e,t){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){"use strict";n.r(t);var c=n(24),a=n(25),s=n(28),i=n(27),o=n(1),r=n.n(o),l=n(144),u=n.n(l),j=n(26),m=n(75),b=n.n(m),d=n(76),O=n.n(d),f=n(77),h=n.n(f),p=n(10),x=n.n(p),v=n(35),g=n(78),S=n(145),N=n(6),C=n(0),k=r.a.createContext();function y(e){var t=Object(o.useState)(!1),n=Object(N.a)(t,2),c=n[0],a=n[1],s=Object(o.useState)(),i=Object(N.a)(s,2),r=i[0],l=i[1],u=Object(o.useState)({username:x.a.load("username")||"",capabilities:x.a.load("capabilities")||[]}),j=Object(N.a)(u,2),m=j[0],d=j[1];Object(o.useEffect)((function(){x.a.load("token")?(a(!0),d(m)):(a(!1),d({}));var e=x.a.load("username");l(e)}),[]);var f=function(){var e=Object(S.a)(Object(g.a)().mark((function e(t,n){var c;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat("https://auth-api-ahmadijmail.herokuapp.com/signin")).set("authorization","Basic ".concat(O.a.encode("".concat(t,":").concat(n))));case 3:c=e.sent,console.log("body >>> ",c.body),p(c.body),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(e){if(e.token){var t=h.a.decode(e.token);console.log("username >>>> ",t),a(!0),d(e),console.log(e),x.a.save("token",e.user.token),x.a.save("username",e.user.username),x.a.save("capabilities",e.user.capabilities)}else a(!1),d({})},v={loginStatus:c,loginFunction:f,logoutFunction:function(){a(!1),d({}),x.a.remove("token"),x.a.remove("actions"),x.a.remove("username")},user:m,usernameFromcookie:r,canDo:function(e){var t;return null===m||void 0===m||null===(t=m.capabilities)||void 0===t?void 0:t.includes(e)}};return Object(C.jsx)(k.Provider,{value:v,children:e.children})}n(294);var w=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).changeHandler=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.submitHandler=function(e){e.preventDefault(),a.context.loginFunction(a.state.username,a.state.password)},a.state={username:"",password:""},a}return Object(a.a)(n,[{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(v.a,{condition:!this.context.loginStatus,children:Object(C.jsxs)("form",{class:"login",onSubmit:this.submitHandler,children:[Object(C.jsx)("input",{type:"text",placeholder:"admin",name:"username",onChange:this.changeHandler}),Object(C.jsx)("input",{type:"text",placeholder:"admin",name:"password",onChange:this.changeHandler}),Object(C.jsx)("button",{children:"Login"})]})}),Object(C.jsx)(v.a,{condition:this.context.loginStatus,children:Object(C.jsx)("button",{onClick:this.context.logoutFunction,className:"delete",children:"Logout"})})]})}}]),n}(r.a.Component);w.contextType=k;var P=n(146),I=n(79),F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(o.useState)({}),c=Object(N.a)(n,2),a=c[0],s=c[1],i=function(t){t.preventDefault(),e(a)},r=function(e){e.persist();var t=e.target,n=t.name,c=t.value;parseInt(c)&&(c=parseInt(c)),s((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(j.a)({},n,c))}))};return Object(o.useEffect)((function(){s(t)}),[t]),{handleChange:r,handleSubmit:i,values:a}},D=r.a.createContext();function T(e){var t=JSON.parse(localStorage.getItem("iTemsPerPage")),n=Object(o.useState)("false"),c=Object(N.a)(n,2),a=c[0],s=c[1],i=Object(o.useState)(t||3),r=Object(N.a)(i,2),l=r[0],u=r[1],j=Object(o.useState)(1),m=Object(N.a)(j,2),b=m[0],d=m[1],O=Object(o.useState)(),f=Object(N.a)(O,2),h=f[0],p=f[1],x=Object(o.useState)(!1),v=Object(N.a)(x,2),g=b*l,S={showcom:v[0],setcomp:v[1],complete:h,setcomplete:p,lastpage:g-l,pagevisited:g,currentPage:b,setpagenum:d,showComplete:a,setShowComplete:s,numOfitems:l,setnumOfitems:u};return Object(o.useEffect)((function(){}),[l]),Object(C.jsx)(D.Provider,{value:S,children:e.children})}var J=D,E=n(300),H=(n(295),n(80),function(e){for(var t=e.totalposts,n=Object(o.useContext)(J),c=[],a=JSON.parse(localStorage.getItem("iTemsPerPage")),s=1;s<=Math.ceil(t/a);s++)c.push(s);return Object(C.jsx)("div",{className:"pagination",children:c.map((function(e,t){return Object(C.jsx)("button",{onClick:function(){n.setpagenum(e)},className:e==n.currentPage?"active":"",children:e},t)}))})}),A=(n(296),function(e){var t=Object(o.useState)([]),n=Object(N.a)(t,2),c=n[0],a=n[1],s=Object(o.useState)([]),i=Object(N.a)(s,2),r=i[0],l=i[1],u=Object(o.useContext)(J),j=Object(o.useContext)(k);console.log(j);JSON.parse(localStorage.getItem("CompletedStatus"));console.log(j.user.capabilities);var m=(0==u.showcom?c:u.complete).slice(u.lastpage,u.pagevisited).map((function(e){return Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"form2",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("p",{children:e.text}),Object(C.jsx)("p",{children:Object(C.jsxs)("small",{children:["Assigned to: ",e.assignee]})}),Object(C.jsx)("p",{children:Object(C.jsxs)("small",{children:["Difficulty: ",e.difficulty]})}),Object(C.jsxs)("div",{children:["Complete: ",e.complete.toString()]}),Object(C.jsx)("hr",{})]},e.id),Object(C.jsx)("button",{className:"Complete",onClick:function(){return function(e){var t=c.map((function(t){return t.id==e&&(t.complete=!t.complete),t}));a(t)}(e.id)},children:"Complete"}),Object(C.jsx)("button",{className:"delete",onClick:function(){return function(e){var t=c.filter((function(t){return t.id!==e}));a(t)}(e.id)},children:"Delete"})]})},e.id)})),b=Object(o.useState)({difficulty:4}),d=Object(N.a)(b,1)[0],O=F((function(e){e.id=Object(E.a)(),e.complete=!1,a([].concat(Object(P.a)(c),[e]))}),d),f=O.handleChange,h=O.handleSubmit;return Object(o.useEffect)((function(){var e=c.filter((function(e){return!e.complete})).length;localStorage.setItem("iTemsPerPage",JSON.stringify(u.numOfitems)),localStorage.setItem("CompletedStatus",JSON.stringify(u.showcom)),l(e),document.title="To Do List: ".concat(r)}),[c,u.numOfitems,u.showcom]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(v.a,{condition:j.loginStatus,children:[Object(C.jsxs)("div",{className:"form",children:[Object(C.jsxs)("form",{onSubmit:h,children:[Object(C.jsxs)("div",{className:"title",children:["Welcome ",j.usernameFromcookie]}),Object(C.jsxs)("div",{className:"subtitle",children:["To Do List: ",r," items pending"]}),Object(C.jsxs)("div",{className:"input-container ic1",children:[Object(C.jsx)("input",{onChange:f,id:"firstname",name:"text",className:"input",type:"text"}),Object(C.jsx)("div",{className:"cut"}),Object(C.jsx)("label",{htmlFor:"firstname",className:"placeholder",children:"To Do Item"})]}),Object(C.jsxs)("div",{className:"input-container ic2",children:[Object(C.jsx)("input",{onChange:f,name:"assignee",id:"lastname",className:"input",type:"text"}),Object(C.jsx)("div",{className:"cut"}),Object(C.jsx)("label",{htmlFor:"lastname",className:"placeholder",children:"Assigned To"})]}),Object(C.jsxs)("label",{children:[Object(C.jsx)("span",{children:"Difficulty"}),Object(C.jsx)("input",{onChange:f,defaultValue:d.difficulty,type:"range",min:1,max:5,name:"difficulty"})]}),Object(C.jsx)("button",{className:"submit",type:"submit",children:"Add Item"})]}),Object(C.jsx)("button",{className:"submit",type:"submit",onClick:function(){return function(){var e=c.filter((function(e){return!e.complete}));u.setcomplete(e),u.setcomp(!u.showcom)}()},children:u.showcom?"Show All":"Show Pending Tasks"})]}),Object(C.jsx)("div",{className:"page",children:Object(C.jsx)("div",{className:"select-dropdown",children:Object(C.jsxs)("select",{onChange:function(e){var t=e.target.value;u.setnumOfitems(t)},children:[Object(C.jsx)("option",{value:"3",className:"select-dropdown",children:"Items Per Page"}),Object(C.jsx)("option",{className:"links",value:"4",children:"4"}),Object(C.jsx)("option",{className:"links",value:"5",children:"5"}),Object(C.jsx)("option",{className:"links",value:"6",children:"6"}),Object(C.jsx)("option",{className:"links",value:"10",children:"10"})]})})}),m,Object(C.jsx)(H,{totalposts:c.length})]})})});n(297),r.a.Component;function L(){return Object(C.jsx)(T,{children:Object(C.jsxs)(y,{children:[Object(C.jsx)(w,{}),Object(C.jsx)(A,{})]})})}var B=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(C.jsx)(L,{})}}]),n}(r.a.Component),z=document.getElementById("root");u.a.render(Object(C.jsx)(B,{}),z)}},[[298,1,2]]]);
//# sourceMappingURL=main.9d93d023.chunk.js.map
(this["webpackJsonpclass-32-todos"]=this["webpackJsonpclass-32-todos"]||[]).push([[0],{161:function(e,t){},164:function(e,t){},175:function(e,t){},177:function(e,t){},192:function(e,t){},194:function(e,t){},222:function(e,t){},224:function(e,t){},225:function(e,t){},230:function(e,t){},232:function(e,t){},238:function(e,t){},240:function(e,t){},259:function(e,t){},271:function(e,t){},274:function(e,t){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){"use strict";n.r(t);var c=n(24),a=n(25),s=n(28),i=n(27),o=n(1),l=n.n(o),r=n(139),u=n.n(r),j=n(26),b=n(12),d=n(74),m=n(140),O=n(6),p=n(141),f=n.n(p),h=n(142),x=n.n(h),g=n(143),v=n.n(g),S=n(0),N=l.a.createContext();function y(e){var t=Object(o.useState)(!1),n=Object(O.a)(t,2),c=n[0],a=n[1],s=Object(o.useState)({username:JSON.parse(localStorage.getItem("username"))||"",capabilities:JSON.parse(localStorage.getItem("capabilities"))||[]}),i=Object(O.a)(s,2),l=i[0],r=i[1],u=Object(o.useState)(),j=Object(O.a)(u,2),b=j[0],p=j[1];Object(o.useEffect)((function(){JSON.parse(localStorage.getItem("token"))?(a(!0),r(l)):a(!1)}),[]);var h=function(){var e=Object(m.a)(Object(d.a)().mark((function e(t,n){var c;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat("https://auth-api-ahmadijmail.herokuapp.com/signin")).set("authorization","Basic ".concat(x.a.encode("".concat(t,":").concat(n))));case 3:c=e.sent,g(c.body.user),r(c.body.user),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),p(e.t0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(e){if(e.token){v.a.decode(e.token);a(!0),localStorage.setItem("token",JSON.stringify(e.token)),localStorage.setItem("username",JSON.stringify(e.username)),localStorage.setItem("capabilities",JSON.stringify(e.capabilities))}else a(!1),r({})},y={loginStatus:c,loginFunction:h,logoutFunction:function(){a(!1),window.location.reload(),r({}),localStorage.clear("token"),localStorage.clear("actions"),localStorage.clear("username")},user:l,error:b};return Object(S.jsx)(N.Provider,{value:y,children:e.children})}n(292);var C=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).changeHandler=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.submitHandler=function(e){e.preventDefault(),a.context.loginFunction(a.state.username,a.state.password)},a.state={username:"",password:""},a}return Object(a.a)(n,[{key:"render",value:function(){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(b.a,{condition:!this.context.loginStatus,children:Object(S.jsxs)("form",{className:"login",onSubmit:this.submitHandler,children:[Object(S.jsx)("input",{type:"text",placeholder:"user name",name:"username",onChange:this.changeHandler}),Object(S.jsx)("input",{type:"password",placeholder:"password",name:"password",onChange:this.changeHandler}),Object(S.jsx)("button",{children:"Login"}),this.context.error?Object(S.jsx)("label",{children:"UserName or password is not correct"}):null]})})})}}]),n}(l.a.Component);C.contextType=N;var k=n(144),w=n(75),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(o.useState)({}),c=Object(O.a)(n,2),a=c[0],s=c[1],i=function(t){t.preventDefault(),e(a)},l=function(e){e.persist();var t=e.target,n=t.name,c=t.value;parseInt(c)&&(c=parseInt(c)),s((function(e){return Object(w.a)(Object(w.a)({},e),{},Object(j.a)({},n,c))}))};return Object(o.useEffect)((function(){s(t)}),[t]),{handleChange:l,handleSubmit:i,values:a}},J=l.a.createContext();function P(e){var t=JSON.parse(localStorage.getItem("iTemsPerPage")),n=Object(o.useState)("false"),c=Object(O.a)(n,2),a=c[0],s=c[1],i=Object(o.useState)(t||3),l=Object(O.a)(i,2),r=l[0],u=l[1],j=Object(o.useState)(1),b=Object(O.a)(j,2),d=b[0],m=b[1],p=Object(o.useState)(),f=Object(O.a)(p,2),h=f[0],x=f[1],g=Object(o.useState)(!1),v=Object(O.a)(g,2),N=d*r,y={showcom:v[0],setcomp:v[1],complete:h,setcomplete:x,lastpage:N-r,pagevisited:N,currentPage:d,setpagenum:m,showComplete:a,setShowComplete:s,numOfitems:r,setnumOfitems:u};return Object(o.useEffect)((function(){}),[r]),Object(S.jsx)(J.Provider,{value:y,children:e.children})}var T=J,D=n(298),F=(n(293),function(e){for(var t=e.totalposts,n=Object(o.useContext)(T),c=[],a=JSON.parse(localStorage.getItem("iTemsPerPage")),s=1;s<=Math.ceil(t/a);s++)c.push(s);return Object(S.jsx)("div",{className:"pagination",children:c.map((function(e,t){return Object(S.jsx)("button",{onClick:function(){n.setpagenum(e)},className:e==n.currentPage?"active":"",children:e},t)}))})}),E=(n(294),function(e){var t=Object(o.useState)([{difficulty:4,text:"Coding",assignee:"Task 1",id:"2fbb0d60-2227-48db-bd94-37b8ab53ba08",complete:!0},{difficulty:2,text:"Reading",assignee:"Task 2",id:"2fbb0d60-2227-48db-bd94-37b8ab53ba08",complete:!1}]),n=Object(O.a)(t,2),c=n[0],a=n[1],s=Object(o.useState)([]),i=Object(O.a)(s,2),l=i[0],r=i[1],u=Object(o.useContext)(T),j=Object(o.useContext)(N);JSON.parse(localStorage.getItem("CompletedStatus"));var d=Object(o.useState)({difficulty:4}),m=Object(O.a)(d,1)[0],p=I((function(e){e.id=Object(D.a)(),e.complete=!1,a([].concat(Object(k.a)(c),[e]))}),m),f=p.handleChange,h=p.handleSubmit;return Object(o.useEffect)((function(){var e=c.filter((function(e){return!e.complete})).length;localStorage.setItem("iTemsPerPage",JSON.stringify(u.numOfitems)),localStorage.setItem("CompletedStatus",JSON.stringify(u.showcom)),r(e),document.title="To Do List: ".concat(l),console.log("list>>>",c)}),[c,u.numOfitems,u.showcom]),Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(b.a,{condition:j.loginStatus,children:[Object(S.jsxs)("div",{className:"hideandseek",children:[Object(S.jsx)("div",{className:"multi-button",children:Object(S.jsx)("div",{children:Object(S.jsxs)("div",{children:[Object(S.jsxs)("select",{onChange:function(e){var t=e.target.value;u.setnumOfitems(t)},className:"button",id:"copy",children:[Object(S.jsx)("option",{value:"3",className:"submit",children:"Items Per Page"}),Object(S.jsx)("option",{className:"submit",value:"4",children:"4"}),Object(S.jsx)("option",{className:"submit",value:"5",children:"5"}),Object(S.jsx)("option",{className:"submit",value:"6",children:"6"}),Object(S.jsx)("option",{className:"submit",value:"10",children:"10"})]}),Object(S.jsxs)("button",{className:"button",id:"cut",onClick:j.logoutFunction,children:[Object(S.jsx)("span",{children:" "}),"Logout"]})]})})}),Object(S.jsxs)("div",{className:"form",children:[Object(S.jsxs)("form",{onSubmit:h,children:[Object(S.jsxs)("div",{className:"title",children:["Welcome ",j.user.username]}),Object(S.jsxs)("div",{className:"subtitle",children:["To Do List: ",l," items pending"]}),Object(S.jsxs)(b.a,{condition:j.loginStatus&&j.user.capabilities.includes("create"),children:[Object(S.jsxs)("div",{className:"input-container ic1",children:[Object(S.jsx)("input",{onChange:f,id:"firstname",name:"text",className:"input",type:"text"}),Object(S.jsx)("div",{className:"cut"}),Object(S.jsx)("label",{htmlFor:"firstname",className:"placeholder",children:"To Do Item"})]}),Object(S.jsxs)("div",{className:"input-container ic2",children:[Object(S.jsx)("input",{onChange:f,name:"assignee",id:"lastname",className:"input",type:"text"}),Object(S.jsx)("div",{className:"cut"}),Object(S.jsx)("label",{htmlFor:"lastname",className:"placeholder",children:"Assigned To"})]}),Object(S.jsxs)("label",{children:[Object(S.jsx)("span",{children:"Difficulty"}),Object(S.jsx)("input",{onChange:f,defaultValue:m.difficulty,type:"range",min:1,max:5,name:"difficulty"})]})]}),Object(S.jsx)(b.a,{condition:j.loginStatus&&j.user.capabilities.includes("create"),children:Object(S.jsx)("button",{className:"submit",type:"submit",children:"Add Item"})})]}),Object(S.jsx)(b.a,{condition:j.loginStatus&&j.user.capabilities.includes("update"),children:Object(S.jsx)("button",{className:"submit",type:"submit",onClick:function(){return function(){if("text"!==c.text){var e=c.filter((function(e){return!e.complete}));u.setcomplete(e),u.setcomp(!u.showcom)}}()},children:u.showcom?"Show All":"Show Pending Tasks"})})]})]}),Object(S.jsx)("div",{className:"displist",children:(0==u.showcom?c:u.complete).slice(u.lastpage,u.pagevisited).map((function(e){return Object(S.jsx)("div",{className:"lists",children:Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"form2",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{children:e.text}),Object(S.jsx)("p",{children:Object(S.jsxs)("small",{children:["Assigned to: ",e.assignee]})}),Object(S.jsx)("p",{children:Object(S.jsxs)("small",{children:["Difficulty: ",e.difficulty]})}),Object(S.jsxs)("div",{children:["Complete: ",e.complete.toString()]}),Object(S.jsx)("hr",{})]},e.id),Object(S.jsx)(b.a,{condition:j.loginStatus&&j.user.capabilities.includes("update"),children:Object(S.jsx)("button",{className:"Complete",onClick:function(){return function(e){var t=c.map((function(t){return t.id==e&&(t.complete=!t.complete),t}));a(t)}(e.id)},children:"Complete"})}),Object(S.jsx)(b.a,{condition:j.loginStatus&&j.user.capabilities.includes("delete"),children:Object(S.jsx)("button",{className:"delete",onClick:function(){return function(e){var t=c.filter((function(t){return t.id!==e}));a(t)}(e.id)},children:"Delete"})})]})},e.id)})}))}),Object(S.jsx)(F,{totalposts:c.length})]})})});n(295),l.a.Component;function H(){return Object(S.jsx)(P,{children:Object(S.jsxs)(y,{children:[Object(S.jsx)(C,{}),Object(S.jsx)(E,{})]})})}var A=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(S.jsx)(H,{})}}]),n}(l.a.Component),L=document.getElementById("root");u.a.render(Object(S.jsx)(A,{}),L)}},[[296,1,2]]]);
//# sourceMappingURL=main.d54e0a43.chunk.js.map